name: 'ðŸŽ›ï¸ Workspace FLOW'
description: 'Fluxo de atualizaÃ§Ã£o do workspace'
inputs:
  version:
    description: 'Nova versÃ£o para ser definida no pom.xml'
    required: true
runs:
  using: 'composite'
  steps:
    - name: ðŸšš Checkout Project
      uses: actions/checkout@v3

    - name: ðŸ“ Obtem a VersÃ£o do workspace
      run: |
        CURRENT_VERSION=$(mvn help:evaluate -Dexpression=project.version -q -DforceStdout)
        echo "VersÃ£o atual no POM: $CURRENT_VERSION"
        if [ "$CURRENT_VERSION" == "${{ inputs.version }}" ]; then
          echo "VersÃ£o atual do POM jÃ¡ Ã© $CURRENT_VERSION. Nenhuma atualizaÃ§Ã£o necessÃ¡ria."
          echo "skip_commit=true" >> $GITHUB_ENV
        fi
      shell: bash
    