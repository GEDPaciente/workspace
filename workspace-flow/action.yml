name: 'ğŸ›ï¸ Workspace FLOW'
description: 'Fluxo de atualizaÃ§Ã£o do workspace'
inputs:
  version:
    description: 'Nova versÃ£o para ser definida no pom.xml'
    required: true
runs:
  using: 'composite'
  steps:
    - name: ğŸšš Checkout Project
      uses: actions/checkout@v3

    - name: Clone Submodules
      run: |
        git config --global url."https://x-access-token:${MY_GITHUB_TOKEN}@github.com/".insteadOf "https://github.com/"
        git submodule update --init --recursive
      shell: bash

    - name: ğŸ“ MVN Clean Install
      run: mvn clean install
      shell: bash

    - name: ğŸ“ Obtem a VersÃ£o do workspace
      run: mvn help:evaluate -Dexpression=project.version -q -DforceStdout
      shell: bash
    
