name: '游 Obter e Verificar Vers칚o'
description: '游 Realiza checkout do projeto, obt칠m a pr칩xima vers칚o e verifica essa vers칚o.'
inputs:
  release_branch:
    description: 'Branch de release para a qual a vers칚o ser치 incrementada.'
    required: false
    default: 'main'
  repository:
    description: 'Reposit칩rio do qual a vers칚o ser치 obtida.'
    required: false
    default: ${{ github.repository }}
  github_token:
    description: 'Token de acesso ao Github.'
    required: true
  submodules:
    description: 'Se os subm칩dulos devem ser atualizados.'
    required: false
    default: false
outputs:
  version:
    description: 'A pr칩xima vers칚o do projeto.'
    value: ${{ steps.get_version.outputs.version }}
runs:
  using: 'composite'
  steps:
    - name: Checkout Project
      uses: actions/checkout@v3
      with:
        repository: ${{ inputs.repository }}
        token: ${{ inputs.github_token }}
        submodules: ${{ inputs.submodules }}
        ref: ${{ github.ref }}

    - name: Get Next Version
      id: get_version
      uses: reecetech/version-increment@2023.9.3
      with:
        scheme: calver
        increment: patch
        release_branch: ${{ inputs.release_branch }}    
    
    - name: Print Version and Branch
      run: |
        echo "Vers칚o Atual do projeto: v${{ steps.get_version.outputs.version }}"
        echo "Branch de release: ${{ inputs.release_branch }}"
      shell: bash